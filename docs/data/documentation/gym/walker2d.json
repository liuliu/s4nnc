{"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/gym\/walker2d"]}],"topicSections":[{"identifiers":["doc:\/\/org.liuliu.s4nnc\/documentation\/Gym\/Walker2D\/init(forwardRewardWeight:ctrlCostWeight:healthyReward:terminateWhenUnhealthy:healthyZRange:healthyAngleRange:resetNoiseScale:)"],"title":"Initializers"},{"identifiers":["doc:\/\/org.liuliu.s4nnc\/documentation\/Gym\/Walker2D\/data","doc:\/\/org.liuliu.s4nnc\/documentation\/Gym\/Walker2D\/model"],"title":"Instance Properties"},{"identifiers":["doc:\/\/org.liuliu.s4nnc\/documentation\/Gym\/Walker2D\/Env-Implementations"],"title":"Default Implementations","generated":true}],"sections":[],"relationshipsSections":[{"identifiers":["doc:\/\/org.liuliu.s4nnc\/documentation\/Gym\/Env","doc:\/\/org.liuliu.s4nnc\/documentation\/Gym\/MuJoCoEnv"],"type":"conformsTo","kind":"relationships","title":"Conforms To"}],"hierarchy":{"paths":[["doc:\/\/org.liuliu.s4nnc\/documentation\/Gym"]]},"schemaVersion":{"patch":0,"minor":3,"major":0},"metadata":{"navigatorTitle":[{"kind":"identifier","text":"Walker2D"}],"role":"symbol","symbolKind":"class","roleHeading":"Class","title":"Walker2D","modules":[{"name":"Gym"}],"externalID":"s:3Gym8Walker2DC","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Walker2D"}]},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/org.liuliu.s4nnc\/documentation\/Gym\/Walker2D"},"kind":"symbol","primaryContentSections":[{"declarations":[{"tokens":[{"text":"final","kind":"keyword"},{"text":" ","kind":"text"},{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Walker2D","kind":"identifier"}],"platforms":["Linux"],"languages":["swift"]}],"kind":"declarations"},{"content":[{"text":"Description","level":3,"anchor":"Description","type":"heading"},{"inlineContent":[{"text":"This environment builds on the hopper environment based on the work done by Erez, Tassa, and Todorov","type":"text"},{"text":" ","type":"text"},{"text":"in ","type":"text"},{"isActive":true,"identifier":"http:\/\/www.roboticsproceedings.org\/rss07\/p10.pdf","type":"reference"},{"text":" ","type":"text"},{"text":"by adding another set of legs making it possible for the robot to walker forward instead of","type":"text"},{"text":" ","type":"text"},{"text":"hop. Like other Mujoco environments, this environment aims to increase the number of independent state","type":"text"},{"text":" ","type":"text"},{"text":"and control variables as compared to the classic control environments. The walker is a","type":"text"},{"text":" ","type":"text"},{"text":"two-dimensional two-legged figure that consist of four main body parts - a single torso at the top","type":"text"},{"text":" ","type":"text"},{"text":"(with the two legs splitting after the torso), two thighs in the middle below the torso, two legs","type":"text"},{"text":" ","type":"text"},{"text":"in the bottom below the thighs, and two feet attached to the legs on which the entire body rests.","type":"text"},{"text":" ","type":"text"},{"text":"The goal is to make coordinate both sets of feet, legs, and thighs to move in the forward (right)","type":"text"},{"text":" ","type":"text"},{"text":"direction by applying torques on the six hinges connecting the six body parts.","type":"text"}],"type":"paragraph"},{"text":"Action Space","level":3,"anchor":"Action-Space","type":"heading"},{"inlineContent":[{"type":"text","text":"The action space is a "},{"type":"codeVoice","code":"Box(-1, 1, (6,), float32)"},{"type":"text","text":". An action represents the torques applied at the hinge joints."}],"type":"paragraph"},{"rows":[[[{"inlineContent":[{"type":"text","text":"Num"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"Action"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"Control Min"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"Control Max"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"Name (in corresponding XML file)"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"Joint"}],"type":"paragraph"}],[{"inlineContent":[{"text":"Unit","type":"text"}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"0","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"Torque applied on the thigh rotor"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"-1"}],"type":"paragraph"}],[{"inlineContent":[{"text":"1","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"thigh_joint"}],"type":"paragraph"}],[{"inlineContent":[{"text":"hinge","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"text":"torque (N m)","type":"text"}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"1","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"Torque applied on the leg rotor"}],"type":"paragraph"}],[{"inlineContent":[{"text":"-1","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"text":"1","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"leg_joint"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"hinge"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"torque (N m)"}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"2","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"text":"Torque applied on the foot rotor","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"-1"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"1"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"foot_joint"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"hinge"}],"type":"paragraph"}],[{"inlineContent":[{"text":"torque (N m)","type":"text"}],"type":"paragraph"}]],[[{"inlineContent":[{"text":"3","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"Torque applied on the left thigh rotor"}],"type":"paragraph"}],[{"inlineContent":[{"text":"-1","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"1"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"thigh_left_joint"}],"type":"paragraph"}],[{"inlineContent":[{"text":"hinge","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"text":"torque (N m)","type":"text"}],"type":"paragraph"}]],[[{"inlineContent":[{"type":"text","text":"4"}],"type":"paragraph"}],[{"inlineContent":[{"text":"Torque applied on the left leg rotor","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"-1"}],"type":"paragraph"}],[{"inlineContent":[{"text":"1","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"leg_left_joint"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"hinge"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"torque (N m)"}],"type":"paragraph"}]],[[{"inlineContent":[{"type":"text","text":"5"}],"type":"paragraph"}],[{"inlineContent":[{"text":"Torque applied on the left foot rotor","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"text":"-1","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"1"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"foot_left_joint"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"hinge"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"torque (N m)"}],"type":"paragraph"}]]],"header":"row","type":"table"},{"text":"Observation Space","level":3,"anchor":"Observation-Space","type":"heading"},{"inlineContent":[{"text":"Observations consist of positional values of different body parts of the walker,","type":"text"},{"text":" ","type":"text"},{"text":"followed by the velocities of those individual parts (their derivatives) with all the positions ordered before all the velocities.","type":"text"},{"text":" ","type":"text"},{"text":"By default, observations do not include the x-coordinate of the top. It may","type":"text"},{"text":" ","type":"text"},{"text":"be included by passing ","type":"text"},{"code":"exclude_current_positions_from_observation=False","type":"codeVoice"},{"text":" during construction.","type":"text"},{"text":" ","type":"text"},{"text":"In that case, the observation space will have 18 dimensions where the first dimension","type":"text"},{"text":" ","type":"text"},{"text":"represent the x-coordinates of the top of the walker.","type":"text"},{"text":" ","type":"text"},{"text":"Regardless of whether ","type":"text"},{"code":"exclude_current_positions_from_observation","type":"codeVoice"},{"text":" was set to true or false, the x-coordinate","type":"text"},{"text":" ","type":"text"},{"text":"of the top will be returned in ","type":"text"},{"code":"info","type":"codeVoice"},{"text":" with key ","type":"text"},{"code":"\"x_position\"","type":"codeVoice"},{"text":".","type":"text"},{"text":" ","type":"text"},{"text":"By default, observation is a ","type":"text"},{"code":"ndarray","type":"codeVoice"},{"text":" with shape ","type":"text"},{"code":"(17,)","type":"codeVoice"},{"text":" where the elements correspond to the following:","type":"text"}],"type":"paragraph"},{"rows":[[[{"type":"paragraph","inlineContent":[{"text":"Num","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"Observation","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Min"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Max"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Name (in corresponding XML file)"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Joint"}]}],[{"type":"paragraph","inlineContent":[{"text":"Unit","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"0","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"z-coordinate of the top (height of hopper)"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"-Inf"}]}],[{"type":"paragraph","inlineContent":[{"text":"Inf","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"rootz (torso)"}]}],[{"type":"paragraph","inlineContent":[{"text":"slide","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"position (m)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"1"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"angle of the top"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"-Inf"}]}],[{"type":"paragraph","inlineContent":[{"text":"Inf","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"rooty (torso)"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"hinge"}]}],[{"type":"paragraph","inlineContent":[{"text":"angle (rad)","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"2"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"angle of the thigh joint"}]}],[{"type":"paragraph","inlineContent":[{"text":"-Inf","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"Inf","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"thigh_joint"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"hinge"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"angle (rad)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"3"}]}],[{"type":"paragraph","inlineContent":[{"text":"angle of the leg joint","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"-Inf","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"Inf","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"leg_joint","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"hinge"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"angle (rad)"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"4","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"angle of the foot joint"}]}],[{"type":"paragraph","inlineContent":[{"text":"-Inf","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"Inf","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"foot_joint","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"hinge","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"angle (rad)","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"5"}]}],[{"type":"paragraph","inlineContent":[{"text":"angle of the left thigh joint","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"-Inf"}]}],[{"type":"paragraph","inlineContent":[{"text":"Inf","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"thigh_left_joint","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"hinge","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"angle (rad)","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"6"}]}],[{"type":"paragraph","inlineContent":[{"text":"angle of the left leg joint","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"-Inf","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"Inf","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"leg_left_joint"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"hinge"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"angle (rad)"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"7","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"angle of the left foot joint"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"-Inf"}]}],[{"type":"paragraph","inlineContent":[{"text":"Inf","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"foot_left_joint"}]}],[{"type":"paragraph","inlineContent":[{"text":"hinge","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"angle (rad)","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"8","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"velocity of the x-coordinate of the top","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"-Inf","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"Inf","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"rootx"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"slide"}]}],[{"type":"paragraph","inlineContent":[{"text":"velocity (m\/s)","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"9"}]}],[{"type":"paragraph","inlineContent":[{"text":"velocity of the z-coordinate (height) of the top","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"-Inf","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Inf"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"rootz"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"slide"}]}],[{"type":"paragraph","inlineContent":[{"text":"velocity (m\/s)","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"10"}]}],[{"type":"paragraph","inlineContent":[{"text":"angular velocity of the angle of the top","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"-Inf","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Inf"}]}],[{"type":"paragraph","inlineContent":[{"text":"rooty","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"hinge"}]}],[{"type":"paragraph","inlineContent":[{"text":"angular velocity (rad\/s)","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"11"}]}],[{"type":"paragraph","inlineContent":[{"text":"angular velocity of the thigh hinge","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"-Inf"}]}],[{"type":"paragraph","inlineContent":[{"text":"Inf","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"thigh_joint","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"hinge"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"angular velocity (rad\/s)"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"12","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"angular velocity of the leg hinge","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"-Inf"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Inf"}]}],[{"type":"paragraph","inlineContent":[{"text":"leg_joint","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"hinge"}]}],[{"type":"paragraph","inlineContent":[{"text":"angular velocity (rad\/s)","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"13"}]}],[{"type":"paragraph","inlineContent":[{"text":"angular velocity of the foot hinge","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"-Inf"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Inf"}]}],[{"type":"paragraph","inlineContent":[{"text":"foot_joint","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"hinge"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"angular velocity (rad\/s)"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"14","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"angular velocity of the thigh hinge"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"-Inf"}]}],[{"type":"paragraph","inlineContent":[{"text":"Inf","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"thigh_left_joint"}]}],[{"type":"paragraph","inlineContent":[{"text":"hinge","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"angular velocity (rad\/s)","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"15","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"angular velocity of the leg hinge"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"-Inf"}]}],[{"type":"paragraph","inlineContent":[{"text":"Inf","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"leg_left_joint","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"hinge"}]}],[{"type":"paragraph","inlineContent":[{"text":"angular velocity (rad\/s)","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"16","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"angular velocity of the foot hinge"}]}],[{"type":"paragraph","inlineContent":[{"text":"-Inf","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"Inf","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"foot_left_joint","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"hinge"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"angular velocity (rad\/s)"}]}]]],"header":"row","type":"table"},{"text":"Rewards","level":3,"anchor":"Rewards","type":"heading"},{"inlineContent":[{"type":"text","text":"The reward consists of three parts:"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"type":"emphasis","inlineContent":[{"type":"text","text":"healthy_reward"}]},{"type":"text","text":": Every timestep that the walker is alive, it receives a fixed reward of value "},{"type":"codeVoice","code":"healthy_reward"},{"type":"text","text":","}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"emphasis","inlineContent":[{"text":"forward_reward","type":"text"}]},{"text":": A reward of walking forward which is measured as","type":"text"},{"text":" ","type":"text"},{"type":"emphasis","inlineContent":[{"code":"forward_reward_weight","type":"codeVoice"},{"text":" * (x-coordinate before action - x-coordinate after action)\/dt","type":"text"}]},{"text":".","type":"text"},{"text":" ","type":"text"},{"type":"emphasis","inlineContent":[{"text":"dt","type":"text"}]},{"text":" is the time between actions and is dependeent on the frame_skip parameter","type":"text"},{"text":" ","type":"text"},{"text":"(default is 4), where the frametime is 0.002 - making the default","type":"text"},{"text":" ","type":"text"},{"type":"emphasis","inlineContent":[{"type":"text","text":"dt = 4 * 0.002 = 0.008"}]},{"text":". This reward would be positive if the walker walks forward (right) desired.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"emphasis","inlineContent":[{"text":"ctrl_cost","type":"text"}]},{"text":": A cost for penalising the walker if it","type":"text"},{"text":" ","type":"text"},{"text":"takes actions that are too large. It is measured as","type":"text"},{"text":" ","type":"text"},{"type":"emphasis","inlineContent":[{"type":"codeVoice","code":"ctrl_cost_weight"},{"text":" * sum(action","type":"text"},{"text":"2","type":"text"},{"text":")","type":"text"}]},{"text":" where ","type":"text"},{"type":"emphasis","inlineContent":[{"code":"ctrl_cost_weight","type":"codeVoice"}]},{"text":" is","type":"text"},{"text":" ","type":"text"},{"text":"a parameter set for the control and has a default value of 0.001","type":"text"},{"text":" ","type":"text"},{"text":"The total reward returned is ","type":"text"},{"type":"emphasis","inlineContent":[{"inlineContent":[{"text":"reward","type":"text"}],"type":"strong"}]},{"text":" ","type":"text"},{"type":"emphasis","inlineContent":[{"text":"=","type":"text"}]},{"text":" ","type":"text"},{"type":"emphasis","inlineContent":[{"type":"text","text":"healthy_reward bonus + forward_reward - ctrl_cost"}]},{"text":" and ","type":"text"},{"type":"codeVoice","code":"info"},{"text":" will also contain the individual reward terms","type":"text"}]}]}],"type":"unorderedList"},{"text":"Starting State","level":3,"anchor":"Starting-State","type":"heading"},{"inlineContent":[{"text":"All observations start in state","type":"text"},{"text":" ","type":"text"},{"text":"(0.0, 1.25, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0)","type":"text"},{"text":" ","type":"text"},{"text":"with a uniform noise in the range of [-","type":"text"},{"type":"codeVoice","code":"reset_noise_scale"},{"text":", ","type":"text"},{"type":"codeVoice","code":"reset_noise_scale"},{"text":"] added to the values for stochasticity.","type":"text"}],"type":"paragraph"},{"text":"Episode End","level":3,"anchor":"Episode-End","type":"heading"},{"inlineContent":[{"type":"text","text":"The walker is said to be unhealthy if any of the following happens:"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Any of the state space values is no longer finite"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"The height of the walker is ","type":"text"},{"inlineContent":[{"inlineContent":[{"type":"text","text":"not"}],"type":"strong"}],"type":"emphasis"},{"text":" in the closed interval specified by ","type":"text"},{"type":"codeVoice","code":"healthy_z_range"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"The absolute value of the angle (","type":"text"},{"code":"observation[1]","type":"codeVoice"},{"text":" if ","type":"text"},{"code":"exclude_current_positions_from_observation=False","type":"codeVoice"},{"text":", else ","type":"text"},{"code":"observation[2]","type":"codeVoice"},{"text":") is ","type":"text"},{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"not"}]}],"type":"emphasis"},{"text":" in the closed interval specified by ","type":"text"},{"code":"healthy_angle_range","type":"codeVoice"},{"text":" ","type":"text"},{"text":"If ","type":"text"},{"code":"terminate_when_unhealthy=True","type":"codeVoice"},{"text":" is passed during construction (which is the default),","type":"text"},{"text":" ","type":"text"},{"text":"the episode ends when any of the following happens:","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Truncation: The episode duration reaches a 1000 timesteps","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Termination: The walker is unhealthy","type":"text"},{"text":" ","type":"text"},{"text":"If ","type":"text"},{"type":"codeVoice","code":"terminate_when_unhealthy=False"},{"text":" is passed, the episode is ended only when 1000 timesteps are exceeded.","type":"text"}],"type":"paragraph"}]}],"type":"orderedList"},{"text":"Arguments","level":3,"anchor":"Arguments","type":"heading"},{"inlineContent":[{"type":"text","text":"No additional arguments are currently supported in v2 and lower."}],"type":"paragraph"},{"code":["env = gym.make('Walker2d-v4')"],"syntax":null,"type":"codeListing"},{"inlineContent":[{"type":"text","text":"v3 and beyond take gym.make kwargs such as xml_file, ctrl_cost_weight, reset_noise_scale etc."}],"type":"paragraph"},{"code":["env = gym.make('Walker2d-v4', ctrl_cost_weight=0.1, ....)"],"syntax":null,"type":"codeListing"},{"rows":[[[{"inlineContent":[{"text":"Parameter","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"text":"Type","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"text":"Default","type":"text"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"Description"}],"type":"paragraph"}]],[[{"inlineContent":[{"code":"xml_file","type":"codeVoice"}],"type":"paragraph"}],[{"inlineContent":[{"inlineContent":[{"text":"str","type":"text"}],"type":"strong"}],"type":"paragraph"}],[{"inlineContent":[{"type":"codeVoice","code":"\"walker2d.xml\""}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"Path to a MuJoCo model"}],"type":"paragraph"}]],[[{"inlineContent":[{"type":"codeVoice","code":"forward_reward_weight"}],"type":"paragraph"}],[{"inlineContent":[{"inlineContent":[{"type":"text","text":"float"}],"type":"strong"}],"type":"paragraph"}],[{"inlineContent":[{"type":"codeVoice","code":"1.0"}],"type":"paragraph"}],[{"inlineContent":[{"text":"Weight for ","type":"text"},{"inlineContent":[{"type":"text","text":"forward_reward"}],"type":"emphasis"},{"text":" term (see section on reward)","type":"text"}],"type":"paragraph"}]],[[{"inlineContent":[{"code":"ctrl_cost_weight","type":"codeVoice"}],"type":"paragraph"}],[{"inlineContent":[{"type":"strong","inlineContent":[{"text":"float","type":"text"}]}],"type":"paragraph"}],[{"inlineContent":[{"type":"codeVoice","code":"1e-3"}],"type":"paragraph"}],[{"inlineContent":[{"text":"Weight for ","type":"text"},{"type":"emphasis","inlineContent":[{"text":"ctr_cost","type":"text"}]},{"text":" term (see section on reward)","type":"text"}],"type":"paragraph"}]],[[{"inlineContent":[{"code":"healthy_reward","type":"codeVoice"}],"type":"paragraph"}],[{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"float"}]}],"type":"paragraph"}],[{"inlineContent":[{"type":"codeVoice","code":"1.0"}],"type":"paragraph"}],[{"inlineContent":[{"text":"Constant reward given if the ant is “healthy” after timestep","type":"text"}],"type":"paragraph"}]],[[{"inlineContent":[{"type":"codeVoice","code":"terminate_when_unhealthy"}],"type":"paragraph"}],[{"inlineContent":[{"inlineContent":[{"text":"bool","type":"text"}],"type":"strong"}],"type":"paragraph"}],[{"inlineContent":[{"type":"codeVoice","code":"True"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"If true, issue a done signal if the z-coordinate of the walker is no longer healthy"}],"type":"paragraph"}]],[[{"inlineContent":[{"type":"codeVoice","code":"healthy_z_range"}],"type":"paragraph"}],[{"inlineContent":[{"inlineContent":[{"text":"tuple","type":"text"}],"type":"strong"}],"type":"paragraph"}],[{"inlineContent":[{"code":"(0.8, 2)","type":"codeVoice"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"The z-coordinate of the top of the walker must be in this range to be considered healthy"}],"type":"paragraph"}]],[[{"inlineContent":[{"type":"codeVoice","code":"healthy_angle_range"}],"type":"paragraph"}],[{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"tuple"}]}],"type":"paragraph"}],[{"inlineContent":[{"type":"codeVoice","code":"(-1, 1)"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"The angle must be in this range to be considered healthy"}],"type":"paragraph"}]],[[{"inlineContent":[{"code":"reset_noise_scale","type":"codeVoice"}],"type":"paragraph"}],[{"inlineContent":[{"inlineContent":[{"text":"float","type":"text"}],"type":"strong"}],"type":"paragraph"}],[{"inlineContent":[{"code":"5e-3","type":"codeVoice"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"Scale of random perturbations of initial position and velocity (see section on Starting State)"}],"type":"paragraph"}]],[[{"inlineContent":[{"code":"exclude_current_positions_from_observation","type":"codeVoice"}],"type":"paragraph"}],[{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"bool"}]}],"type":"paragraph"}],[{"inlineContent":[{"type":"codeVoice","code":"True"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"Whether or not to omit the x-coordinate from observations. Excluding the position can serve as an inductive bias to induce position-agnostic behavior in policies"}],"type":"paragraph"}]]],"header":"row","type":"table"},{"text":"Version History","level":3,"anchor":"Version-History","type":"heading"},{"items":[{"content":[{"inlineContent":[{"text":"v4: all mujoco environments now use the mujoco bindings in mujoco>=2.1.3","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"v3: support for gym.make kwargs such as xml_file, ctrl_cost_weight, reset_noise_scale etc. rgb rendering comes from tracking camera (so agent does not run away from screen)"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"v2: All continuous control environments now use mujoco_py >= 1.50"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"v1: max_time_steps raised to 1000 for robot based tasks. Added reward_threshold to environments.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"v0: Initial versions release (1.0.0)","type":"text"}]}]}],"type":"unorderedList"}],"kind":"content"}],"references":{"doc://org.liuliu.s4nnc/documentation/Gym/Walker2D/init(forwardRewardWeight:ctrlCostWeight:healthyReward:terminateWhenUnhealthy:healthyZRange:healthyAngleRange:resetNoiseScale:)":{"kind":"symbol","role":"symbol","identifier":"doc:\/\/org.liuliu.s4nnc\/documentation\/Gym\/Walker2D\/init(forwardRewardWeight:ctrlCostWeight:healthyReward:terminateWhenUnhealthy:healthyZRange:healthyAngleRange:resetNoiseScale:)","title":"init(forwardRewardWeight:ctrlCostWeight:healthyReward:terminateWhenUnhealthy:healthyZRange:healthyAngleRange:resetNoiseScale:)","abstract":[],"type":"topic","fragments":[{"text":"init","kind":"identifier"},{"text":"(","kind":"text"},{"kind":"externalParam","text":"forwardRewardWeight"},{"kind":"text","text":": "},{"preciseIdentifier":"s:Sd","kind":"typeIdentifier","text":"Double"},{"text":", ","kind":"text"},{"text":"ctrlCostWeight","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:Sd","kind":"typeIdentifier","text":"Double"},{"text":", ","kind":"text"},{"text":"healthyReward","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:Sd","text":"Double","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"terminateWhenUnhealthy","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:Sb","text":"Bool","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"healthyZRange","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"ClosedRange","kind":"typeIdentifier","preciseIdentifier":"s:SN"},{"text":"<","kind":"text"},{"text":"Double","kind":"typeIdentifier","preciseIdentifier":"s:Sd"},{"text":">, ","kind":"text"},{"text":"healthyAngleRange","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"ClosedRange","kind":"typeIdentifier","preciseIdentifier":"s:SN"},{"text":"<","kind":"text"},{"text":"Double","kind":"typeIdentifier","preciseIdentifier":"s:Sd"},{"text":">, ","kind":"text"},{"text":"resetNoiseScale","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"Double","kind":"typeIdentifier","preciseIdentifier":"s:Sd"},{"text":") ","kind":"text"},{"text":"throws","kind":"keyword"}],"url":"\/documentation\/gym\/walker2d\/init(forwardrewardweight:ctrlcostweight:healthyreward:terminatewhenunhealthy:healthyzrange:healthyanglerange:resetnoisescale:)"},"doc://org.liuliu.s4nnc/documentation/Gym/MuJoCoEnv":{"abstract":[],"role":"symbol","identifier":"doc:\/\/org.liuliu.s4nnc\/documentation\/Gym\/MuJoCoEnv","type":"topic","title":"MuJoCoEnv","kind":"symbol","navigatorTitle":[{"text":"MuJoCoEnv","kind":"identifier"}],"fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"MuJoCoEnv","kind":"identifier"}],"url":"\/documentation\/gym\/mujocoenv"},"doc://org.liuliu.s4nnc/documentation/Gym/Env":{"abstract":[],"role":"symbol","identifier":"doc:\/\/org.liuliu.s4nnc\/documentation\/Gym\/Env","type":"topic","title":"Env","kind":"symbol","navigatorTitle":[{"text":"Env","kind":"identifier"}],"fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Env","kind":"identifier"}],"url":"\/documentation\/gym\/env"},"http://www.roboticsproceedings.org/rss07/p10.pdf":{"url":"http:\/\/www.roboticsproceedings.org\/rss07\/p10.pdf","title":"“Infinite Horizon Model Predictive Control for Nonlinear Periodic Tasks”","type":"link","titleInlineContent":[{"text":"“Infinite Horizon Model Predictive Control for Nonlinear Periodic Tasks”","type":"text"}],"identifier":"http:\/\/www.roboticsproceedings.org\/rss07\/p10.pdf"},"doc://org.liuliu.s4nnc/documentation/Gym/Walker2D/Env-Implementations":{"kind":"article","role":"collectionGroup","identifier":"doc:\/\/org.liuliu.s4nnc\/documentation\/Gym\/Walker2D\/Env-Implementations","title":"Env Implementations","abstract":[],"type":"topic","url":"\/documentation\/gym\/walker2d\/env-implementations"},"doc://org.liuliu.s4nnc/documentation/Gym/Walker2D/model":{"abstract":[],"url":"\/documentation\/gym\/walker2d\/model","type":"topic","fragments":[{"text":"let","kind":"keyword"},{"text":" ","kind":"text"},{"text":"model","kind":"identifier"},{"text":": ","kind":"text"},{"text":"MjModel","preciseIdentifier":"s:6MuJoCo7MjModelV","kind":"typeIdentifier"}],"role":"symbol","title":"model","identifier":"doc:\/\/org.liuliu.s4nnc\/documentation\/Gym\/Walker2D\/model","kind":"symbol"},"doc://org.liuliu.s4nnc/documentation/Gym/Walker2D":{"kind":"symbol","navigatorTitle":[{"kind":"identifier","text":"Walker2D"}],"role":"symbol","identifier":"doc:\/\/org.liuliu.s4nnc\/documentation\/Gym\/Walker2D","title":"Walker2D","abstract":[],"type":"topic","fragments":[{"kind":"keyword","text":"class"},{"text":" ","kind":"text"},{"kind":"identifier","text":"Walker2D"}],"url":"\/documentation\/gym\/walker2d"},"doc://org.liuliu.s4nnc/documentation/Gym":{"title":"Gym","kind":"symbol","role":"collection","identifier":"doc:\/\/org.liuliu.s4nnc\/documentation\/Gym","type":"topic","url":"\/documentation\/gym","abstract":[]},"doc://org.liuliu.s4nnc/documentation/Gym/Walker2D/data":{"abstract":[],"url":"\/documentation\/gym\/walker2d\/data","type":"topic","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"data","kind":"identifier"},{"text":": ","kind":"text"},{"text":"MjData","preciseIdentifier":"s:6MuJoCo6MjDataV","kind":"typeIdentifier"}],"role":"symbol","title":"data","identifier":"doc:\/\/org.liuliu.s4nnc\/documentation\/Gym\/Walker2D\/data","kind":"symbol"}}}